<!DOCTYPE html>
<html><head>
    <title>PathTool</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="css/kickstart.css" media="all" />                  <!-- KICKSTART -->
    <link rel="stylesheet" type="text/css" href="style.css" media="all" />                          <!-- CUSTOM STYLES -->
   
    <script type="text/javascript" src="js/3rdparty/jquery.min.js"></script>
    <script type="text/javascript" src="js/3rdparty/FileSaver/FileSaver.js"></script>
    <script type="text/javascript" src="js/3rdparty/contour.js"></script>
    <script type="text/javascript" src="js/3rdparty/VideoFrame.min.js"></script>
    
    
    <script type="text/javascript" src="js/kickstart.js"></script>                                  <!-- KICKSTART -->
    <script type="text/javascript" src="js/dragdrop.js"></script>
    <script type="text/javascript" src="js/Keyboard.js"></script>
    <script type="text/javascript" src="js/viewEdit.js"></script>
    <script type="text/javascript" src="js/exporters2.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
</head>
<!-- ===================================== END HEADER ===================================== 
  https://allensarkisyan.github.io/VideoFrameDocs/#!/documentation
-->

      <body onload="onLoad()" onkeydown="keyDown(event)" onkeyup="keyUp(event)">
          <center><h3><i>Reference Image</i></h3></center>
              <center>
                  <img id='refImg' src="data/refImg.png">
                  <br><input type="file" id="file-input"/>
                  <input type="checkbox" id="showCards">
                  <br /><br />            
                  <canvas id='workCanvas'></canvas>
              </center>
              <hr>


              <center><h3><i>Path Editor</i></h3></center>
              
              <div id="workBench" class="col_3" style='background-color:rgba(0,0,0,0);'>
                <input type="text" id="listname" name="listname">
                <button type="button" onclick="addNewList(null);">Add List</button>
                <button type="button" onclick="deleteList();">Del List</button>
                <br>
                <label for="alllists">Current list:</label>
              <select name="alllists" id="alllists" onchange="refreshPointsList();">
              </select>
              <br>
                <select name="ptslist" id="ptslist" size="0" onselect="onptsel();">  
              </select>
              <br>
              <label id="ptcount"></label>
              </div>
              <div class="col_9" style='background-color:rgba(0,0,0,0);'>
                BobSize&nbsp;<input type="range" min="1" max="32" value="2" class="slider" id="bobsize">
                Interp&nbsp;<input type="range" min="0" max="32" value="0" class="slider" id="interp">
                <input id="file-input2" type="file" name="name" style="display: none;" />
                <button type="button" onclick="if (!workCanvas) alert('Please load an image before loading a Path!'); else document.getElementById('file-input2').click();">Load</button>
                <input id="file-input3" type="file" name="name" style="display: none;" />
                <button type="button" onclick="Contour();">Contour</button>
                <button type="button" onclick="downloadJSON(MYDATA, 'PathTool.txt', 'text/plain');">Save</button>
                <button type="button" onclick="play(1);">Play1</button>
                <button type="button" onclick="play(2);">Play2</button>
                <button type="button" onclick="animPrev();"><</button>
                <button type="button" onclick="animNext();">></button>
                <br><input type="range" min="2" max="500" value="50" class="slider" id="contourRange" oninput="Contour();">
                <br><canvas id='viewCanvas' type="overflow:scroll;"></canvas>
                <video id="video" src="data/BirdVideo.mp4" controls="false"></video>
              </div>
              <hr>
            <div id="saveBpl" style='background-color:rgba(200,200,200,0.5);'>
                <center><h3><i>Export</i></h3></center>
                <label for="export_interp">Interpolation: </label>
                <select name="export_interp" id="export_interp">
                  <option value="1">None</option>
                  <option value="2">Export slopes</option>
                  <option value="3">Export all points</option>
                </select>

                <label for="export_coord">Coordinates: </label>
                <select name="export_coord" id="export_coord">
                  <option value="1">16 bit coord</option>
                  <option value="2">4 bit delta coord</option>
                  <option value="2">16 bit ofs</option>
                </select>
              </div>
          <br><br>
          <div id = "mouseFollow" style = "display:none; position:fixed; z-index:10; background-color: #6B6B6B; color: white;">
            <label id="mouseCoordLabel">moncul</label>
          </div>
         <div id = "addFrame" style = "display:none; position:absolute; z-index:10; background-color: rgba(50,50,50,0.7); color:white; margin-left:10px">
            <center>
            <h4>Grabbed:</h4>
            <canvas id='addFrameCanvas'></canvas>
            <hr>
            label&nbsp;<input type="text" id="frameName" name="frameName" onchange="onNewFrameName()">
            <br><br>x&nbsp;<input type="text" id="frameX" name="frameX" size="8">&nbsp;&nbsp;y&nbsp;<input type="text" id="frameY" name="frameY" size="8">
            <br><br>w&nbsp;<input type="text" id="frameW" name="frameW" size="8">
            h&nbsp;<input type="text" id="frameH" name="frameH" size="8">
            <br><br><button type="button" onclick="addFrameOk()">Add</button>&nbsp;&nbsp;<button type="button" class="fa fa-times" onclick="addFrameCancel()"> Cancel</button>
            <br></center>
         </div>
         <!-- ===================================== START FOOTER ===================================== -->
          <div id="footer">
                <br>All bugs by Soundy
          </div>

      </body></html>